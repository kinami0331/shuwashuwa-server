# 后端小组的Todo

## 待完成

- 实现当前用户提交志愿者申请单的接口
    - 注意一些细节问题：例如已经是志愿者的人不能提交申请单等

- 实现用户获取自己的申请单信息的接口
    - 暂时不允许用户提交申请单

- 实现管理员获取申请单的接口，注意构造不同的条件
    - 暂时不考虑分页，研究一下返回列表时怎么写，以及返回的json格式是什么样的

- 思考超级管理员的身份管理
    - 初步的想法是，在项目启动时会添加一个用户身份，该用户的userid是1，代表超级管理员
    - 超级管理员并不是一个真实的微信用户，所以openid这一栏是空的，我们可以利用这一栏做一些事，例如存储加密后的管理员密码
    - 提供一个专门的超级管理员登录接口，用户需要用密码从这个接口登录，登陆后会获取一个新的token
    - 总之或许可以想想
 
- 思考一下还需要什么数据库操作，尽可能多列几个，头脑风暴一下，直接列在这下面

- 针对DAO写测试！写测试！写测试！

## 进行中

### kinami

### leo_h

### leesou



## 归档
- 删除单个用户的接口（传code，其实跟登陆时一样）
    - 已完成，根据传入的code字符串获取openid，利用openid在数据库中删除表项，在接口中添加了一个根据openID删除用户的方法。（俺Spring学艺不精，不知道有没有其他简单的办法）
    - 此外，由于Mybatis的DELETE注解会返回删除行数（在输入符合键值格式要求时），因此删除0行应该意味着待删除的用户不存在，因此（虽然不知道必不必要但是）做了一个简单的判断
    - 这是个DELETE请求，参数目前只需要传code（不知道有没有什么传输类的规范，不过想改也好改），要在body中传
    - 目前不清楚这个方法需要返回什么（似乎不需要Token那种的有意义信息），因此暂时返回了提示字符串
    
- 删除全部用户的接口
    - 已完成，与上面的方法类似，但并未进行是否删除的判断（感觉这里并没有必要了？反正有没有都是清空）
    - 这是个DELETE请求，参数目前只需要传code（不知道有没有什么传输类的规范，不过想改也好改），要在body中传
    - 目前不清楚这个方法需要返回什么（似乎不需要Token那种的有意义信息），因此暂时返回了提示字符串

- 用户信息更新接口，在初次填报或修改信息时都会用到，写Controller，然后在service层打印出传来的信息（不用调用DAO实现）
    - 已按这个设想完成，目前使用的是PUT请求，需要传code和一个UpdateUserInfoDto
    
- 前端获取用户信息的接口，返回一个JSON
    - 话说这里还是用UpdateUserInfoDto类吧？
    - 这是一个GET请求，参数是code
    
- 为了书写方便，把kinami之前在登陆中写的与微信交互的代码挪到了WecahtUtil类中，设置成Component，自动注入

- 关于这几个方法下一步应该需要做的（我目前想到的）
    - 用户信息的两个服务待完善Dao层的实现
    - 删除用户的服务待进一步测试（目前只做了本地测试
    - 每个服务的参数可能还需要进一步调整，可能需要增加传输类
